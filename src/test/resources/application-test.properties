# Test Database Configuration
# Uses in-memory H2 database that is completely isolated from the main database
# Database is automatically dropped and recreated for each test run

spring.application.name=UniPool-Test

# Database Configuration - In-Memory H2 (completely isolated)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=false

# JPA Configuration - Create and drop schema for each test run
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Jackson Configuration (UTC timezone policy)
spring.jackson.time-zone=UTC

# JWT Configuration (same as main for consistency)
jwt.secret=y9OkM2UnHNKLK0pc4HuQ/BuxOsCxliwstKvJxJAh5d4=
jwt.expiration=86400000

# CORS Configuration
cors.allowed-origins=*

# Server Configuration (random port for tests)
server.port=0

# Logging (less verbose for tests)
logging.level.me.devziyad.unipoolbackend=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN

# Payment Configuration
payment.platform-fee-percentage=10

# GPS Tracking Configuration
gps.tracking.update-interval-seconds=30

# Geocoding Configuration
geocoding.country-codes=BH

# Rate Limiting Configuration (disabled for tests)
rate.limiting.enabled=false

# Application Version
app.version=0.0.1-SNAPSHOT

# Default Admin Account Configuration (disabled for tests - we create our own)
admin.default.email=
admin.default.password=
admin.default.universityId=
admin.default.fullName=
admin.default.phoneNumber=

